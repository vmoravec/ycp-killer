deps:
  - testsuite
exports:
  - library/types/src
  - library
  - library/runlevel/src
  - library/sequencer/src
  - library/xml/src
  - library/commandline/src
  - library/desktop/src
  - library/wizard/src
  - library/control/src
  - library/cwm/src
  - library/log/src
  - library/system/src
  - library/packages/src
  - library/cron/src
  - library/network/src
  - library/gpg/src

work_modify:
  mkdir:
    - library/types/src/modules
    - library/runlevel/src/modules
    - library/sequencer/src/include
    - library/sequencer/src/modules
    - library/xml/src/modules
    - library/commandline/src/modules
    - library/desktop/src/modules
    - library/desktop/src/clients
    - library/wizard/src/modules
    - library/control/src/modules
    - library/cwm/src/modules
    - library/log/src/modules
    - library/system/src/modules
    - library/packages/src/modules
    - library/packages/src/include
    - library/cron/src/modules
    - library/network/src/modules
    - library/gpg/src/modules
  mv:
    - source: "library/types/src/*.ycp"
      target: library/types/src/modules
    - source: "library/runlevel/src/*.ycp"
      target: library/runlevel/src/modules
    - source: "library/sequencer/src/Sequencer.ycp"
      target: library/sequencer/src/modules
    - source: "library/sequencer/src/sequencer.ycp"
      target: library/sequencer/src/include
    - source: "library/xml/src/*.ycp"
      target: library/xml/src/modules
    - source: "library/commandline/src/*.ycp"
      target: library/commandline/src/modules
    - source: "library/desktop/src/Desktop.ycp"
      target: library/desktop/src/modules
    - source: "library/desktop/src/menu.ycp"
      target: library/desktop/src/clients
    - source: "library/wizard/src/*.ycp"
      target: library/wizard/src/modules
    - source: "library/control/src/*.ycp"
      target: library/control/src/modules
    - source: "library/cwm/src/*.ycp"
      target: library/cwm/src/modules
    - source: "library/log/src/*.ycp"
      target: library/log/src/modules
    - source: "library/system/src/*.ycp"
      target: library/system/src/modules
    - source: "library/packages/src/common.ycp"
      target: library/packages/src/include
      # order is important as common is only include
    - source: "library/packages/src/*.ycp"
      target: library/packages/src/modules
    - source: "library/cron/src/*.ycp"
      target: library/cron/src/modules
      # TODO there is strange source files in network, investigate!
    - source: "library/network/src/[[:upper:]]*.ycp"
      target: library/network/src/modules
    - source: "library/gpg/src/*.ycp"
      target: library/gpg/src/modules

excluded:
  # These use private private symbols from the Sequence module.
  # TODO: Allow this.
  - library/sequencer/testsuite/tests/WS_alias.ycp
  - library/sequencer/testsuite/tests/WS_check.ycp
  - library/sequencer/testsuite/tests/WS_error.ycp
  - library/sequencer/testsuite/tests/WS_next.ycp
  - library/sequencer/testsuite/tests/WS_pop.ycp
  - library/sequencer/testsuite/tests/WS_push.ycp
  - library/sequencer/testsuite/tests/WS_run.ycp
  - library/sequencer/testsuite/tests/WS_special.ycp
  - library/sequencer/testsuite/tests/WS_testall.ycp
  - library/sequencer/testsuite/tests/Wizard.yh
  - library/sequencer/testsuite/tests/Wizard0.ycp
  - library/sequencer/testsuite/tests/Wizard1.ycp
  - library/sequencer/testsuite/tests/Wizard2.ycp
  - library/sequencer/testsuite/tests/Wizard3.ycp
  - library/sequencer/testsuite/tests/Wizard4.ycp
  - library/sequencer/testsuite/tests/Wizard5.ycp
  - library/sequencer/testsuite/tests/Wizard6.ycp
  - library/sequencer/testsuite/tests/Wizard7.ycp
  # Uses private symbol from the CommandLine module.
  # TODO: Allow this.
  - library/commandline/testsuite/tests/cmdmap6.ycp
  # Uses private symbol from the Report module.
  # TODO: Allow this.
  - library/commandline/testsuite/tests/unique1.ycp
  # Library/CommandLine Documentation (in alphabetical order)
  # TODO: Excluded because they depend on the not-yet-transated network
  # module.
  - library/commandline/doc/lan-simple.ycp
  - library/commandline/doc/lan-simpler.ycp
  # Uses private symbol from the Report module.
  # TODO: Allow this.
  - library/cwm/testsuite/tests/t1.ycp
  - library/cwm/testsuite/tests/t2.ycp
  # Uses private symbol from the Kernel module.
  # TODO: Allow this.
  - library/system/testsuite/tests/kernel.ycp
  # Library/Packages Includes (in Makefile.am order)
  # TODO: Uses undefined identifier, obviously from the files that include
  # this. We need to decide what to do with included files in general.
  - library/packages/src/common.ycp
  # Uses private symbol from the Network module.
  # TODO: Allow this.
  - library/network/testsuite/tests/NetworkInterfaces2.ycp
  - library/network/testsuite/tests/NetworkInterfaces4.ycp
